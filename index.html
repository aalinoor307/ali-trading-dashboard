<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>TredLog – Smart Trading Journal & Performance Analytics</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#202617" />

  <!-- SEO -->
  <meta name="description" content="Track your trades, analyze performance, and improve your discipline with TredLog — a modern trading journal with advanced analytics, strategy tagging, calendar stats and broker sync-ready CSV import." />
  <meta name="robots" content="index,follow" />
  <meta name="keywords" content="trading journal, trade log, TredLog, forex journal, prop firm trading, trade tracker, trading analytics" />

  <!-- Open Graph / Social -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="TredLog – Smart Trading Journal & Performance Analytics" />
  <meta property="og:description" content="Log trades, track PnL in R and USD, see your calendar PnL, and sharpen your edge with a disciplined trading journal built for prop traders." />
  <meta property="og:url" content="https://tredlog.com" />
  <meta property="og:site_name" content="TredLog" />

  <!-- Favicon (inline SVG) -->
  <link
    rel="icon"
    type="image/svg+xml"
    href="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2064%2064'%3E%3Crect%20width='64'%20height='64'%20rx='14'%20ry='14'%20fill='%23111322'/%3E%3Ctext%20x='50%25'%20y='54%25'%20text-anchor='middle'%20font-size='34'%20fill='%23f5c24b'%20font-family='Inter,system-ui,sans-serif'%3ET%3C/text%3E%3C/svg%3E"
  />

  <!-- Fonts & Chart.js -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Analytics (replace IDs to activate) -->
  <!-- Google Analytics 4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-XXXXXXXXXX'); // TODO: replace with your GA4 ID
  </script>

  <!-- Microsoft Clarity -->
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
      c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
      t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
      y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "YOUR_CLARITY_ID"); // TODO: replace with Clarity ID or remove
  </script>

  <!-- Plausible Analytics -->
  <!-- Remove if you don't use Plausible -->
  <script defer data-domain="tredlog.com" src="https://plausible.io/js/script.js"></script>

  <style>
    :root{
      --bg:#050611;
      --bg-elevated:#111322;
      --accent:#f5c24b;
      --accent-soft:rgba(245,194,75,.15);
      --danger:#fb7185;
      --success:#22c55e;
      --muted:#9ca3af;
      --border:#292d45;
      --text:#f9fafb;
      --text-soft:#b3b7d3;
      --radius-lg:18px;
    }
    *{box-sizing:border-box;}
    body{
      margin:0;
      min-height:100vh;
      font-family:"Inter",system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      background:radial-gradient(circle at top,#151936 45%,#050611 100%);
      color:var(--text);
    }
    .app-shell{
      max-width:1440px;
      margin:24px auto 40px;
      padding:0 16px;
    }
    .app-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      flex-wrap:wrap;
      margin-bottom:16px;
    }
    .app-logo{
      display:flex;
      align-items:center;
      gap:10px;
    }
    .logo-mark{
      width:34px;
      height:34px;
      border-radius:14px;
      background:radial-gradient(circle at 30% 10%,#fde68a 0,#f59e0b 35%,#92400e 100%);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700;
      color:#111322;
      font-size:16px;
      box-shadow:0 12px 28px rgba(0,0,0,.7);
      letter-spacing:.06em;
    }
    .app-title{font-size:20px;font-weight:700;}
    .app-subtitle{font-size:12px;color:var(--muted);}
    .pill{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:4px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.05);
      background:rgba(0,0,0,.4);
      font-size:11px;
      color:var(--text-soft);
    }
    .pill-dot{width:8px;height:8px;border-radius:999px;background:#22c55e;}
    .layout{
      display:grid;
      grid-template-columns:minmax(0,380px) minmax(0,1fr);
      gap:16px;
    }
    @media(max-width:980px){
      .layout{grid-template-columns:minmax(0,1fr);}
    }
    .card{
      background:radial-gradient(circle at top left,#20263d 0,#111322 55%);
      border-radius:var(--radius-lg);
      border:1px solid var(--border);
      box-shadow:0 18px 40px rgba(0,0,0,.55);
      padding:16px 18px;
    }
    .card-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:8px;
      margin-bottom:10px;
    }
    .card-title{
      font-size:13px;
      font-weight:600;
      letter-spacing:.08em;
      text-transform:uppercase;
      color:var(--text-soft);
    }
    .card-sub{font-size:11px;color:var(--muted);}
    label{
      display:block;
      font-size:11px;
      color:var(--text-soft);
      margin-bottom:3px;
    }
    input,select,textarea{
      width:100%;
      border-radius:10px;
      border:1px solid var(--border);
      background:rgba(6,8,24,.9);
      padding:8px 10px;
      font-size:12px;
      color:var(--text);
      outline:none;
      transition:border-color .18s,box-shadow .18s,background .18s;
    }
    input:focus,select:focus,textarea:focus{
      border-color:var(--accent);
      box-shadow:0 0 0 1px rgba(245,194,75,.25);
      background:rgba(8,10,32,.96);
    }
    textarea{resize:vertical;min-height:60px;}
    .grid-2{
      display:grid;
      grid-template-columns:repeat(2,minmax(0,1fr));
      gap:8px;
    }
    .space-y-8>*+*{margin-top:8px;}
    .btn{
      border:none;
      border-radius:999px;
      padding:8px 14px;
      background:linear-gradient(135deg,#f5c24b,#f08c2b);
      color:#111322;
      font-size:12px;
      font-weight:600;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:6px;
      cursor:pointer;
      box-shadow:0 12px 22px rgba(0,0,0,.6);
      white-space:nowrap;
      transition:transform .15s,box-shadow .15s,filter .15s;
    }
    .btn:hover{transform:translateY(-1px);box-shadow:0 16px 32px rgba(0,0,0,.8);filter:brightness(1.05);}
    .btn-secondary{
      background:transparent;
      color:var(--text-soft);
      border:1px solid var(--border);
      box-shadow:none;
    }
    .btn-secondary:hover{background:rgba(12,14,32,.9);}
    .stat-grid{
      display:grid;
      grid-template-columns:repeat(4,minmax(0,1fr));
      gap:10px;
      margin-bottom:10px;
    }
    @media(max-width:1100px){
      .stat-grid{grid-template-columns:repeat(2,minmax(0,1fr));}
    }
    @media(max-width:640px){
      .stat-grid{grid-template-columns:minmax(0,1fr);}
    }
    .stat-card{
      background:rgba(5,7,24,.9);
      border-radius:12px;
      border:1px solid rgba(255,255,255,.06);
      padding:10px 12px;
    }
    .stat-label{font-size:11px;color:var(--text-soft);margin-bottom:4px;}
    .stat-main{font-size:18px;font-weight:600;}
    .stat-sub{font-size:11px;color:var(--muted);}
    .green{color:var(--success);}
    .red{color:var(--danger);}
    .probability-pill{
      padding:3px 9px;
      border-radius:999px;
      font-size:11px;
      font-weight:600;
      letter-spacing:.06em;
      text-transform:uppercase;
    }
    .prob-high{background:rgba(34,197,94,.18);color:#4ade80;}
    .prob-medium{background:rgba(245,194,75,.2);color:#facc15;}
    .prob-low{background:rgba(248,113,113,.18);color:#fb7185;}
    .checklist-grid{display:grid;grid-template-columns:minmax(0,1fr);gap:8px;}
    .rule-chip{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:8px;
      padding:8px 9px;
      border-radius:10px;
      background:rgba(5,7,24,.93);
      border:1px solid rgba(255,255,255,.05);
    }
    .rule-main{font-size:11px;font-weight:500;}
    .rule-sub{font-size:10px;color:var(--muted);}
    .rule-right{display:flex;align-items:center;gap:6px;font-size:10px;color:var(--accent);}
    .rule-right span{background:rgba(245,194,75,.2);padding:3px 6px;border-radius:999px;}
    .checklist-summary{
      display:flex;
      justify-content:space-between;
      align-items:baseline;
      margin-top:6px;
      font-size:11px;
      color:var(--text-soft);
    }
    .table-wrap{
      max-height:220px;
      overflow:auto;
      border-radius:10px;
      border:1px solid rgba(255,255,255,.03);
      background:rgba(3,5,18,.9);
    }
    table{width:100%;border-collapse:collapse;font-size:11px;}
    th,td{padding:6px 7px;border-bottom:1px solid rgba(255,255,255,.03);text-align:left;white-space:nowrap;}
    thead{background:rgba(8,10,28,.96);}
    tbody tr:nth-child(even){background:rgba(5,7,22,.85);}
    .toolbar{display:flex;flex-wrap:wrap;gap:6px;justify-content:flex-end;margin-top:8px;}
    .toolbar .btn{font-size:11px;padding-inline:10px;}
    .coach-box{
      margin-top:10px;
      background:rgba(5,7,24,.95);
      border-radius:12px;
      border:1px dashed rgba(245,194,75,.4);
      padding:10px 12px;
      font-size:11px;
      color:var(--text-soft);
    }
    .coach-heading{
      font-size:11px;
      font-weight:600;
      text-transform:uppercase;
      letter-spacing:.08em;
      margin-bottom:4px;
      color:var(--accent);
    }
    .charts-grid{
      display:grid;
      grid-template-columns:minmax(0,1.2fr) minmax(0,1.2fr);
      gap:10px;
    }
    @media(max-width:980px){
      .charts-grid{grid-template-columns:minmax(0,1fr);}
    }
    .calendar-wrap{
      margin-top:10px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.06);
      background:rgba(5,7,24,.9);
      padding:10px 12px;
    }
    .calendar-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:6px;
      font-size:11px;
      color:var(--text-soft);
    }
    .calendar-grid{
      display:grid;
      grid-template-columns:repeat(7,minmax(0,1fr));
      gap:4px;
      font-size:10px;
    }
    .cal-cell{
      min-height:46px;
      border-radius:8px;
      padding:4px 4px 5px;
      background:rgba(7,9,26,.95);
      border:1px solid rgba(255,255,255,.03);
      display:flex;
      flex-direction:column;
      justify-content:space-between;
    }
    .cal-cell-empty{background:transparent;border:none;}
    .cal-date{font-size:10px;color:var(--text-soft);}
    .cal-pnl{font-size:10px;}
    .cal-positive{color:var(--success);}
    .cal-negative{color:var(--danger);}
    .cal-trades{font-size:9px;color:var(--muted);}

    /* Password gate */
    .password-gate{
      position:fixed;
      inset:0;
      background:radial-gradient(circle at top,#020617 0,#02040b 60%);
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:9999;
      opacity:1;
      transition:opacity .25s ease;
    }
    .password-card{
      background:rgba(10,12,28,.98);
      border-radius:18px;
      padding:24px 22px;
      max-width:360px;
      width:90%;
      border:1px solid var(--border);
      box-shadow:0 26px 60px rgba(0,0,0,.85);
      text-align:left;
    }
    .password-title{
      font-size:16px;
      font-weight:600;
      margin-bottom:6px;
    }
    .password-sub{
      font-size:12px;
      color:var(--muted);
      margin-bottom:14px;
    }
    .password-card input{
      margin-bottom:10px;
    }
    .password-error{
      font-size:11px;
      color:var(--danger);
      min-height:14px;
    }

    /* Simple footer */
    .footer{
      margin-top:18px;
      font-size:11px;
      color:var(--muted);
      text-align:right;
    }
    .footer a{
      color:var(--accent);
      text-decoration:none;
    }
    .footer a:hover{text-decoration:underline;}
  </style>
</head>
<body>

<!-- Password gate (front-end only). Change password in JS or set to "" to disable -->
<div id="password-gate" class="password-gate">
  <div class="password-card">
    <div class="password-title">Enter dashboard password</div>
    <p class="password-sub">
      This TredLog trading journal is private. Enter your access password to continue.
    </p>
    <input id="password-input" type="password" placeholder="Password" />
    <button id="password-submit" class="btn" style="width:100%;justify-content:center;">Unlock</button>
    <div id="password-error" class="password-error"></div>
  </div>
</div>

<div class="app-shell">
  <header class="app-header">
    <div class="app-logo">
      <div class="logo-mark">TL</div>
      <div>
        <div class="app-title">TredLog – Ali's Trading System</div>
        <div class="app-subtitle">Probabilities • Discipline • R &amp; PnL • Web-based execution journal</div>
      </div>
    </div>
    <div class="pill">
      <span class="pill-dot"></span> Local session • Data stored in your browser • Contact: <a href="mailto:admin@tredlog.com" style="color:var(--accent);text-decoration:none;">admin@tredlog.com</a>
    </div>
  </header>

  <main class="layout">

    <!-- LEFT: ACCOUNT + NEW TRADE + CHECKLIST -->
    <section class="card space-y-8">

      <div class="card-header">
        <div>
          <div class="card-title">New trade</div>
          <div class="card-sub">Fill the form, tick criteria, log trade.</div>
        </div>
        <button id="btn-clear-form" class="btn-secondary btn">Clear form</button>
      </div>

      <!-- Account -->
      <div class="space-y-8">
        <div class="grid-2">
          <div>
            <label>Starting balance (USD)</label>
            <input id="starting-balance" type="text" inputmode="decimal" placeholder="e.g. 100000" />
          </div>
          <div>
            <label>Current balance (USD)</label>
            <input id="current-balance" type="text" readonly placeholder="Auto" />
          </div>
        </div>

        <div class="grid-2">
          <div>
            <label>Date</label>
            <input id="trade-date" type="date" />
          </div>
          <div>
            <label>Pair</label>
            <input id="trade-pair" type="text" placeholder="e.g. GBPUSD" />
          </div>
        </div>

        <div class="grid-2">
          <div>
            <label>Direction</label>
            <select id="trade-direction">
              <option value="">Select</option>
              <option value="BUY">Buy</option>
              <option value="SELL">Sell</option>
            </select>
          </div>
          <div>
            <label>Setup / Strategy</label>
            <input id="trade-setup" type="text" placeholder="Breakout with momentum" />
          </div>
        </div>

        <div class="grid-2">
          <div>
            <label>Risk per trade (money)</label>
            <input id="trade-risk-money" type="text" inputmode="decimal" placeholder="e.g. 4000" />
          </div>
          <div>
            <label>R:R planned</label>
            <input id="trade-r-planned" type
