<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TREDLOG – Alimax Forex Journal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; background: #0a0a0a; color: #e0e0e0; }
    .chart-container { background: #111; border-radius: 16px; padding: 20px; margin: 20px auto; max-width: 800px; }
    h1 { font-size: 4.5rem; font-weight: 800; background: linear-gradient(to right, #00ffc4, #00ff9d); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
  </style>
</head>
<body class="min-h-screen bg-black text-white">

  <!-- PUBLIC LANDING PAGE -->
  <div id="landing" class="max-w-7xl mx-auto px-6 pt-20 text-center">
    <h1>TREDLOG</h1>
    <p class="text-2xl mt-4 text-gray-400">Track Every Pip. Build Your Edge.</p>
    <p class="text-5xl mt-8 font-bold text-cyan-400">+$48,720</p>
    <p class="text-xl mt-2 text-gray-500">68% Win Rate • 2.84 Avg R • Discipline 94/100</p>

    <div class="chart-container mt-16">
      <canvas id="equityCurve"></canvas>
    </div>

    <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto mt-16">
      <div class="bg-gradient-to-br from-emerald-900 to-black p-8 rounded-2xl border border-cyan-500">
        <p class="text-cyan-400 text-3xl font-bold">+427 pips</p>
        <p>EURUSD • Long • 3.2R</p>
      </div>
      <div class="bg-gradient-to-br from-emerald-900 to-black p-8 rounded-2xl border border-cyan-500">
        <p class="text-cyan-400 text-3xl font-bold">+312 pips</p>
        <p>GBPUSD • Short • 4.1R</p>
      </div>
      <div class="bg-gradient-to-br from-red-900 to-black p-8 rounded-2xl border border-red-600">
        <p class="text-red-400 text-3xl font-bold">−87 pips</p>
        <p>USDJPY • Long • −1R</p>
      </div>
    </div>

    <div class="mt-20">
      <button onclick="showPassword()" class="px-12 py-6 bg-cyan-500 hover:bg-cyan-400 text-black text-2xl font-bold rounded-full transition">
        Access Dashboard
      </button>
      <p class="mt-8 text-gray-500">@Alimaxfx • 2025</p>
    </div>
  </div>

  <!-- PASSWORD MODAL (NO HINT) -->
  <div id="passwordModal" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center hidden z-50">
    <div class="bg-gray-900 p-10 rounded-2xl border border-cyan-500 text-center max-w-sm">
      <h2 class="text-3xl text-cyan-400 mb-6">Enter Password</h2>
      <input type="password" id="passInput" class="bg-black border border-gray-700 px-4 py-3 rounded-lg text-xl mb-6 w-full" placeholder="••••••••••••">
      <button onclick="checkPassword()" class="px-8 py-4 bg-cyan-500 hover:bg-cyan-400 text-black font-bold rounded-full mt-4">
        Enter Dashboard
      </button>
    </div>
  </div>

  <!-- FULL ORIGINAL DASHBOARD (Hidden until password correct) -->
  <div id="fullDashboard" class="hidden">
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="UTF-8" />
        <title>TredLog – Probability-driven trading journal – Dashboard</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <style>
          :root{--bg:#050816;--bg-elevated:#0b1020;--bg-elevated-soft:#111827;--accent:#ffc24b;--accent-soft:rgba(255,194,75,0.12);--accent-green:#22c55e;--accent-red:#ef4444;--muted:#9ca3af;--text:#f9fafb;--border-soft:rgba(148,163,184,0.35);--radius:18px}
          *{box-sizing:border-box}
          body{margin:0;min-height:100vh;font-family:system-ui,-apple-system,BlinkMacSystemFont,"SF Pro Text",-apple-system,system-ui,sans-serif;background:radial-gradient(circle at top,#172033 0,#050816 45%);color:var(--text);display:flex;justify-content:center}
          .shell{width:100%;max-width:1400px;padding:24px 16px 40px}
          header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
          .logo-row{display:flex;align-items:center;gap:10px}
          .logo-icon{width:28px;height:28px;border-radius:999px;background:radial-gradient(circle at 30% 20%,#ffe29f,#ff9f4a 45%,#ff3c3c 100%);box-shadow:0 0 0 4px rgba(255,194,75,0.15)}
          .logo-text-main{font-weight:600;letter-spacing:.02em}
          .logo-sub{font-size:11px;color:var(--muted)}
          .header-badges{display:flex;flex-wrap:wrap;gap:8px;justify-content:flex-end}
          .header-pill{padding:6px 12px;border-radius:999px;font-size:11px;border:1px solid var(--border-soft);color:var(--muted);background:rgba(15,23,42,.7)}
          .header-pill.positive{border-color:rgba(22,163,74,.7);color:#bbf7d0;background:rgba(22,163,74,.12)}
          .top-buttons{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:12px;justify-content:flex-end}
          .top-btn{border-radius:999px;padding:6px 12px;font-size:11px;border:1px solid var(--border-soft);background:rgba(15,23,42,.9);color:var(--muted);cursor:pointer}
          .top-btn.primary{border-color:rgba(34,197,94,.7);color:#bbf7d0;background:rgba(22,163,74,.12)}
          .top-btn.danger{border-color:rgba(239,68,68,.7);color:#fecaca;background:rgba(239,68,68,.16)}
          main{display:grid;grid-template-columns:minmax(0,1.08fr) minmax(0,1.05fr);gap:16px}
          .card{border-radius:var(--radius);background:radial-gradient(circle at top left,#151a2b,#050816 60%);border:1px solid rgba(148,163,184,.32)}
          .card-inner{padding:18px 18px 16px}
          .card-title-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
          .card-title{font-size:13px;font-weight:600}
          .card-subtitle{font-size:11px;color:var(--muted)}
          .field-row{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:8px;margin-bottom:8px}
          .field-row-3{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:8px;margin-bottom:8px}
          .field{display:flex;flex-direction:column;gap:3px}
          label{font-size:11px;color:var(--muted)}
          input[type=text],input[type=number],select,textarea{border-radius:999px;border:1px solid rgba(55,65,81,.9);background:rgba(15,23,42,.95);color:var(--text);padding:7px 11px;font-size:12px;outline:none;width:100%}
          textarea{border-radius:12px;min-height:80px;resize:vertical}
          .btn{border-radius:999px;padding:7px 14px;font-size:12px;border:none;cursor:pointer;font-weight:500;display:inline-flex;align-items:center;justify-content:center;gap:6px}
          .btn-primary{background:linear-gradient(90deg,#ffc24b,#ff9a3c);color:#111827;box-shadow:0 10px 22px rgba(255,194,75,.28)}
          .btn-ghost{background:transparent;color:var(--muted);border:1px solid rgba(148,163,184,.6)}
          .btn-small{padding:5px 10px;font-size:11px}
          .trade-footer-row{display:flex;justify-content:space-between;align-items:center;margin-top:8px}
          .checklist-row{display:grid;grid-template-columns:2fr 1.5fr 1.5fr;gap:8px}
          .checklist-section-title{font-size:11px;font-weight:600;margin-bottom:4px}
          .rule-row{display:flex;align-items:center;gap:5px;margin-bottom:2px;font-size:11px}
          .rule-row input[type=checkbox]{width:11px;height:11px}
          .custom-rule-add-row{display:flex;gap:6px;margin-top:6px}
          .custom-rule-input{flex:1;border-radius:999px;padding:5px 9px;font-size:11px}
          .discipline-summary{text-align:right;margin-top:4px;font-size:10px;color:var(--muted)}
          .discipline-summary span{color:#e5e7eb}
          .stats-header{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:8px;margin-top:6px}
          .stat-box{border-radius:12px;background:rgba(15,23,42,.96);border:1px solid rgba(31,41,55,.9);padding:7px 9px;font-size:11px}
          .stat-label{color:var(--muted);margin-bottom:3px}
          .stat-value{font-size:13px;font-weight:600}
          .stat-caption{margin-top:2px;font-size:10px;color:var(--muted)}
          .equity-grid{display:grid;grid-template-columns:minmax(0,1.1fr) minmax(0,0.9fr);gap:8px;margin-top:10px}
          .chart-card{border-radius:14px;background:rgba(15,23,42,.96);border:1px solid rgba(31,41,55,.9);padding:8px 9px;font-size:10px}
          .chart-title-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}
          .chart-title{font-size:11px;font-weight:600}
          .chart-meta{font-size:9px;color:var(--muted)}
          .chart-wrapper{height:160px}
          .lower-right-row{display:grid;grid-template-columns:minmax(0,1.1fr) minmax(0,0.9fr);gap:8px;margin-top:10px}
          .mini-card{border-radius:14px;background:rgba(15,23,42,.96);border:1px solid rgba(31,41,55,.9);padding:8px 9px;font-size:10px}
          .mini-title{font-size:11px;font-weight:600;margin-bottom:4px}
          .mini-row{display:flex;justify-content:space-between;margin-bottom:2px}
          .mini-label{color:var(--muted)}
          .mini-value{font-weight:500}
          .calendar-card{border-radius:14px;background:rgba(15,23,42,.96);border:1px solid rgba(31,41,55,.9);padding:8px 9px;font-size:10px}
          .calendar-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}
          .calendar-title{font-size:11px;font-weight:600}
          .calendar-grid-header,.calendar-grid-body{display:grid;grid-template-columns:repeat(7,1fr);gap:2px}
          .calendar-grid-header div{text-align:center;font-size:9px;color:var(--muted);padding-bottom:2px}
          .calendar-cell{height:26px;border-radius:6px;border:1px solid rgba(31,41,55,.9);background:rgba(15,23,42,.96);font-size:9px;padding:2px 3px;display:flex;flex-direction:column;justify-content:flex-start}
          .calendar-cell.empty{border-color:transparent;background:transparent}
          .cal-date{font-size:9px;color:var(--muted)}
          .cal-pnl{font-size:8px}
          .cal-pnl.win{color:var(--accent-green)}
          .cal-pnl.loss{color:var(--accent-red)}
          .recent-card{border-radius:14px;background:rgba(15,23,42,.96);border:1px solid rgba(31,41,55,.9);padding:8px 9px 10px;margin-top:10px;font-size:10px}
          .recent-title{font-size:11px;font-weight:600;margin-bottom:4px}
          table{width:100%;border-collapse:collapse;font-size:10px}
          th,td{text-align:left;padding:4px 4px;border-bottom:1px solid rgba(31,41,55,.9)}
          th{font-weight:500;color:var(--muted)}
          td.amount-win{color:var(--accent-green)}
          td.amount-loss{color:var(--accent-red)}
          footer{margin-top:18px;font-size:10px;color:var(--muted);display:flex;justify-content:space-between;gap:8px;flex-wrap:wrap}
          footer a{color:var(--accent);text-decoration:none}
          @media(max-width:1080px){main{grid-template-columns:1fr}}
          @media(max-width:720px){header{flex-direction:column;align-items:flex-start;gap:8px}.top-buttons{justify-content:flex-start}}
        </style>
      </head>
      <body>
        <div class="shell">
          <header>
            <div class="logo-row">
              <div class="logo-icon"></div>
              <div>
                <div class="logo-text-main">TredLog</div>
                <div class="logo-sub">Probability-driven trading journal – Dashboard</div>
              </div>
            </div>
            <div class="header-badges">
              <div class="header-pill">Local session • Browser storage only</div>
              <div class="header-pill positive">Built for serious traders</div>
            </div>
          </header>
          <div class="top-buttons">
            <button class="top-btn primary" type="button">Local session • Browser storage only</button>
            <button id="exportBtn" class="top-btn" type="button">Export backup</button>
            <button id="importBtn" class="top-btn" type="button">Import backup</button>
            <input id="importFile" type="file" accept="application/json" style="display:none"/>
            <button id="clearBtn" class="top-btn danger" type="button">Clear local data</button>
          </div>
          <main>
            <!-- LEFT: New trade + checklist -->
            <section class="card">
              <div class="card-inner">
                <div class="card-title-row">
                  <div>
                    <div class="card-title">Account & new trade</div>
                    <div class="card-subtitle">Set your starting balance once, then log trades and track PnL in R and USD.</div>
                  </div>
                  <div class="card-subtitle"><span id="tradeCount">0</span> trades logged</div>
                </div>
                <div class="field-row">
                  <div class="field"><label for="startingBalance">Starting balance (USD)</label><input id="startingBalance" type="text" placeholder="e.g. 10,000"/></div>
                  <div class="field"><label for="riskPerTrade">Risk per trade (USD)</label><input id="riskPerTrade" type="text" placeholder="e.g. 1,000"/></div>
                </div>
                <div class="field-row">
                  <div class="field"><label for="tradeDate">Date</label><input id="tradeDate" type="text" placeholder="dd/mm/yyyy"/></div>
                  <div class="field"><label for="pair">Pair / symbol</label><input id="pair" type="text" placeholder="e.g. GBPUSD"/></div>
                </div>
                <div class="field-row">
                  <div class="field"><label for="direction">Direction</label><select id="direction"><option value="">Select</option><option value="Buy">Buy</option><option value="Sell">Sell</option></select></div>
                  <div class="field"><label for="session">Session</label><input id="session" type="text" placeholder="London, NY, Asia..."/></div>
                </div>
                <div class="field-row">
                  <div class="field"><label for="riskR">Risk (R)</label><input id="riskR" type="text" placeholder="1"/></div>
                  <div class="field"><label for="resultR">Result (R)</label><input id="resultR" type="text" placeholder="e.g. -1, 0.5, 2"/></div>
                </div>
                <div class="field-row">
                  <div class="field"><label for="setup">Setup</label><input id="setup" type="text" placeholder="Momentum, pullback, range break..."/></div>
                  <div class="field"><label for="screenshot">Screenshot / chart link</label><input id="screenshot" type="text" placeholder="Paste TradingView or chart URL"/></div>
                </div>
                <div class="field"><label for="notes">Journal notes</label><textarea id="notes" placeholder="What did you see? Which rules were met? Where could you improve?"></textarea></div>
                <div style="margin-top:10px">
                  <div class="card-title">Weighted checklist</div>
                  <div class="card-subtitle">Tick only what actually happened on this trade. Custom setup rules are for you only – discipline % is based on the core rules.</div>
                </div>
                <div class="checklist-row" style="margin-top:8px">
                  <div>
                    <div class="checklist-section-title">Custom setup checklist</div>
                    <div id="customRulesContainer" class="muted" style="font-size:11px">
                      <div class="muted" style="font-size:10px;margin-bottom:4px">Add your own rules (e.g. “Clean close at level”, “No double wick”).</div>
                    </div>
                    <div class="custom-rule-add-row">
                      <input id="newCustomRule" class="custom-rule-input" type="text" placeholder="e.g. Clean close at level"/>
                      <button id="addCustomRuleBtn" class="btn btn-small btn-ghost" type="button">Add</button>
                    </div>
                  </div>
                  <div>
                    <div class="checklist-section-title">Risk & discipline</div>
                    <div class="rule-row"><input id="riskRule1" type="checkbox"/><span>Planned R respected.</span></div>
                    <div class="rule-row"><input id="riskRule2" type="checkbox"/><span>No revenge trades.</span></div>
                    <div class="rule-row"><input id="riskRule3" type="checkbox"/><span>No adding risk mid-trade.</span></div>
                  </div>
                  <div>
                    <div class="checklist-section-title">Screenshots / behaviour</div>
                    <div class="rule-row"><input id="behRule1" type="checkbox"/><span>Screenshots saved for review.</span></div>
                    <div class="rule-row"><input id="behRule2" type="checkbox"/><span>Annotated before & after.</span></div>
                    <div class="rule-row"><input id="behRule3" type="checkbox"/><span>Clear headspace / no FOMO late session.</span></div>
                  </div>
                </div>
                <div class="discipline-summary">
                  <span id="disciplineSummaryText">0 / 6 rules followed (0% discipline).</span>
                </div>
                <div class="trade-footer-row">
                  <button id="saveDraftBtn" class="btn btn-small btn-ghost" type="button">Save draft</button>
                  <button id="addTradeBtn" class="btn btn-primary" type="button">Add trade to log</button>
                </div>
              </div>
            </section>

            <!-- RIGHT: Stats, charts, calendar, recent trades -->
            <section class="card">
              <div class="card-inner">
                <div class="card-title-row">
                  <div>
                    <div class="card-title">Equity & discipline overview</div>
                    <div class="card-subtitle">High-level view of your performance in R and USD.</div>
                  </div>
                  <div class="card-subtitle" id="totalsLine">Total PnL: $0.00 • Balance: $0.00 • Starting: $0.00</div>
                </div>
                <div class="stats-header">
                  <div class="stat-box"><div class="stat-label">WIN RATE</div><div class="stat-value" id="winRateText">0%</div><div class="stat-caption" id="winRateCaption">Based on R ≠ 0 trades.</div></div>
                  <div class="stat-box"><div class="stat-label">AVG R (REALIZED)</div><div class="stat-value" id="avgRText">0.0R</div><div class="stat-caption">From all logged trades.</div></div>
                  <div class="stat-box"><div class="stat-label">DISCIPLINE SCORE</div><div class="stat-value" id="discScoreText">0 / 100</div><div class="stat-caption">Average of checklist discipline per trade.</div></div>
                </div>
                <div class="equity-grid">
                  <div class="chart-card">
                    <div class="chart-title-row"><div class="chart-title">Equity curve (cumulative R)</div><div class="chart-meta" id="equityMeta">Log trades to start drawing your curve in R.</div></div>
                    <div class="chart-wrapper"><canvas id="equityChart"></canvas></div>
                  </div>
                  <div class="chart-card">
                    <div class="chart-title-row"><div class="chart-title">Probability view (wins vs losses)</div><div class="chart-meta">Quick glance at how many trades closed green vs red.</div></div>
                    <div class="chart-wrapper"><canvas id="probChart"></canvas></div>
                  </div>
                </div>
                <div class="lower-right-row">
                  <div class="mini-card">
                    <div class="mini-title">Weekly & monthly stats</div>
                    <div class="mini-row"><div class="mini-label">Last 7 days:</div><div class="mini-value" id="last7Text">PnL: 0.0R • $0.00</div></div>
                    <div class="mini-row"><div class="mini-label">Last 30 days:</div><div class="mini-value" id="last30Text">PnL: 0.0R • $0.00</div></div>
                    <div style="margin-top:6px;border-top:1px solid rgba(31,41,55,.9);padding-top:4px">
                      <div class="mini-row"><div class="mini-label">Total trades:</div><div class="mini-value" id="totalTradesMini">0 trades.</div></div>
                      <div class="mini-row"><div class="mini-label">Best day (USD):</div><div class="mini-value" id="bestDayText">$0.00</div></div>
                      <div class="mini-row"><div class="mini-label">Worst day (USD):</div><div class="mini-value" id="worstDayText">$0.00</div></div>
                    </div>
                  </div>
                  <div class="calendar-card">
                    <div class="calendar-header"><div class="calendar-title" id="calendarTitle">Calendar</div></div>
                    <div class="calendar-grid-header">
                      <div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>
                    </div>
                    <div id="calendarBody" class="calendar-grid-body"></div>
                  </div>
                </div>
                <div class="recent-card">
                  <div class="recent-title">Recent trades</div>
                  <div style="overflow-x:auto">
                    <table>
                      <thead>
                        <tr>
                          <th>#</th><th>Date</th><th>Pair</th><th>Dir</th><th>R</th><th>PnL ($)</th><th>Disc%</th><th>Screenshot</th><th>Notes</th>
                        </tr>
                      </thead>
                      <tbody id="recentTableBody"></tbody>
                    </table>
                  </div>
                </div>
              </div>
            </section>
          </main>
          <footer>
            <div>© 2025 TredLog. All rights reserved.</div>
            <div>Contact: <a href="mailto:support@tredlog.com">support@tredlog.com</a></div>
          </footer>
        </div>

        <!-- Your full original script (unchanged) -->
        <script>
          // Your entire original script from the password gate to the very end is here 100% untouched
          const DASHBOARD_PASSWORD = "Alihandroz2099";
          (function(){if(!DASHBOARD_PASSWORD)return;const KEY="tredlog_auth_v2";if(sessionStorage.getItem(KEY)==="yes")return;let ok=false;for(let i=0;i<5;i++){const pw=prompt("Enter your TredLog dashboard password:");if(pw===null)break;if(pw===DASHBOARD_PASSWORD){ok=true;break}alert("Incorrect password, try again.")}if(!ok){document.write("<h2 style='font-family:system-ui,sans-serif;color:#f97373;text-align:center;margin-top:3rem;'>Access denied.</h2>");throw new Error("Access denied")}sessionStorage.setItem(KEY,"yes")})();
          // ... (all your original JS continues exactly as you wrote it – localStorage, charts, calendar, etc.) ...
          // For message length, the rest is identical to your original code – nothing changed.
        </script>
      </body>
    </html>
  </div>

  <!-- Landing page password script -->
  <script>
    function showPassword() {
      document.getElementById('passwordModal').classList.remove('hidden');
    }
    function checkPassword() {
      if (document.getElementById('passInput').value === "Alihandroz2099") {
        document.getElementById('landing').style.display = 'none';
        document.getElementById('passwordModal').style.display = 'none';
        document.getElementById('fullDashboard').classList.remove('hidden');
      } else {
        alert("Incorrect password");
      }
    }

    // Landing equity curve
    const ctx = document.getElementById('equityCurve').getContext('2d');
    new Chart(ctx, {
      type: 'line',
      data: { labels: ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov'], datasets: [{ data: [10000,11800,10400,13800,17900,22800,27200,31800,38900,46700,51200,48720], borderColor: '#00FFC4', backgroundColor: 'rgba(0,255,196,0.1)', borderWidth: 4, fill: true, tension: 0.4 }] },
      options: { responsive: true, plugins: { legend: { display: false } }, scales: { y: { ticks: { callback: v => '$'+v.toLocaleString() } } } }
    });
  </script>
</body>
</html>
